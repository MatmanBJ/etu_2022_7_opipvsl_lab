# Лабораторные работы по ОПиПвСL

## Лабораторные работы по Организации процессов и программирования в среде Linux (ОПиПвСL), 7 семестр СПбГЭТУ "ЛЭТИ", 2022

### Лабораторная работа 4

Программу необходимо компилировать с флагом `-pthread`, который отвечает за мультипроцессорное программирование в используемой библиотеке `<pthread.h>`!

Например, `g++ -Wall -pthread -o "%e" "%f"`.

### Лабораторная работа 5

Программу необходимо запускать со следующими флагами:\
`./main (signal | sigaction | <other=default>) (1 | 2 | <other=default>)`, где:
- в части **./main**:
  - `./main` -- название программы (исполняемого файла);
- в части **(signal | sigaction | <other=default>)**:
  - `signal` -- использование функции `signal`;
  - `sigaction` -- использование функции `sigaction`;
  - `<other=default>` -- использование дефолтной функции (`signal`);
- в части **(1 | 2 | <other=default>)**:
  - `1` -- деление на 0 в качестве ошибки;
  - `2` -- обращение по **nullptr** адресу в качестве ошибки;
  - `<other=default>` -- дефолтная операция (деление на 0) в качестве ошибки.

Например, `./main signal 1` будет означать, что будет использоваться функция `signal` и что будет производиться деление на 0.

### Лабораторная работа 6

Компиляция программы стандартная.\
Запуск программы со следующими параметрами:

`./main <launch period> <number of launches>`, где:

- `<launch period>` — время периода между запусками программы в секундах (время между каждым запуском программы);
- `<number of launches>` — количество периодических запусков (сколько раз программа запустится).

### Лабораторная работа 7

Компиляция программы стандартная.\
Запуск программы со следующими параметрами:

`./main <filename.txt>`, где:

- `<filename.txt>` — имя читаемого программой файла в формате **txt**, например, `./main lorem_ipsum.txt`.

Внимание!
При создании файла важно учитывать формат окончания строки, на Unix/Linux это **LF — line feed** (`\n`),
а на Windows это **CRLF — carriage return line feed** (`\r\n`).
Из-за того, что файлы с разными форматами окончания строки будут читаться по-разному,
могут возникнуть ошибки, и программа может работать некорректно.
*Создавайте* файлы *на Linux* или *меняйте формат* окончания строки на *LF*!
Примеры в отчёте приведены для файлов с форматом окончания строки **LF**.

### Лабораторная работа 8

#### Director's cut (режиссёрская версия)

Компиляция программы стандартная.\
Запуск программы происходит в **трёх терминалах параллельно** со следующими параметрами:

`./main -num (1 | 2 | 3) -file <filename.txt> -key (<key_integer_number >= 0>)`, где:

- флаг `-num` — ID запускаемой программы, может быть только одним из следующих значений, при запуске трёх программ у каждой, очевидно, должны быть уникальные значения:
  - `1`;
  - `2`;
  - `3`;
- флаг `-file` — название читаемого программой файла в формате **txt**, расположенного в той же директории, что и исполняемый файл, например, `lorem_ipsum.txt`:
  - `<filename.txt>`;
- флаг `-key` — неотрицательный целочисленный ключ для создания общей очереди (в локальной очереди он всегда равен `IPC_PRIVATE = 0`), необходимый **для подключения к одной общей очереди другими программами** (очевидно, что все 3 запускаемые программы должны иметь **один и тот же ключ**):
  - `<key_integer_number > 0>` — положительный целочисленный ключ, программа будет работать корректно;
  - `<key_integer_number = 0>` — если вы выбираете ключ, равный `0 = IPC_PRIVATE`, то программа не будет работать, так как этот ключ создаёт приватную очередь, которую невозможно опознать другим программам.

Например, для **корректного запуска** трёх программ в **трёх терминалах параллельно** (каждую строку нужно запустить в отдельном терминале) значения будут следующими:

```
./main -num 1 -file lorem_ipsum.txt -key 190
./main -num 2 -file lorem_ipsum.txt -key 190
./main -num 3 -file lorem_ipsum.txt -key 190
```

#### Theatrical cut (театральная версия)

Компиляция программы стандартная.\
Запуск программ происходит в **трёх терминалах параллельно** без параметров:

`./executable_<id_number>`, где `<id_number>` равен `1`, `2` или `3`.

Значение ключа в этой версии для создания общей очереди равно `190`, ID в каждой из программ соответствующее, `1` для `./executable_1`, `2` для `./executable_2` и `3` для `./executable_3`, читаемый файл в каждой из программ `lorem_ipsum.txt`.

Например, для **корректного запуска** трёх программ в **трёх терминалах параллельно** (каждую строку нужно запустить в отдельном терминале) значения будут следующими:

```
./executable_1
./executable_2
./executable_3
```

### Используемый на Linux компилятор

```
matmanbj@matmanbj-VirtualBox:~$ gcc --version
gcc (Ubuntu 9.4.0-1ubuntu1~20.04.1) 9.4.0
Copyright (C) 2019 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
```

```
matmanbj@matmanbj-VirtualBox:~$ g++ --version
g++ (Ubuntu 9.4.0-1ubuntu1~20.04.1) 9.4.0
Copyright (C) 2019 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
```

# Лицензия

Этот проект находится под лицензией MIT. Дополнительная информация в файле `license.txt`.